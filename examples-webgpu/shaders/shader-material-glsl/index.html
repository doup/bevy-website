<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Material - GLSL" property=og:title><meta content=website property=og:type><meta content=https://bevyengine.org//examples-webgpu/shaders/shader-material-glsl/ property=og:url><meta content=https://bevyengine.org/assets/bevy_logo_fill.png property=og:image><meta content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><noscript><style>.js-only{display:none}</style></noscript><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Material - GLSL</title><script src=/search.mjs type=module></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>Examples (WebGPU)</div></div><nav class="header__menu main-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a class=main-menu__logo href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class="button-square button-square--header js-only" data-search-open><i class="icon icon--search" alt=Search></i></div><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__content><div class=main-menu__page-menu></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class=main-menu__link href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class=main-menu__link href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><div class="header__cta header__cta--search button-square button-square--header js-only" data-search-open><i class="icon icon--search" alt=Search></i></div><a class="header__cta button button--pink" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class=example><div class=example__header><h2 class=example__title>Shaders / Material - GLSL</h2><a class=example__back href=/examples-webgpu><i class="icon icon--chevron-left"></i> Back to examples</a><a class=example__github href=https://github.com/bevyengine/bevy/blob/latest/examples/shader/shader_material_glsl.rs> <i class="icon icon--github"></i> View in GitHub </a></div><div class="example__canvas bevy-instance"><div class=bevy-instance__progress-status data-progress-status><div class=bevy-instance__progress-file data-progress-file></div><div class=bevy-instance__progress-track><div class=bevy-instance__progress-bar data-progress-bar></div></div></div><canvas class=bevy-instance__canvas height=720 id=bevy width=1280></canvas><aside class="example__callout media-content callout callout--plain callout--warning" data-pagefind-ignore><strong>Support Warning.</strong> WebGPU is currently only supported on Chrome starting with version 113, and only on desktop. If the example doesn't work on your configuration, you can check the WebGL2 example <a href=/examples/shaders/shader-material-glsl/>here</a>.</aside></div><div class="example__code-tabs tabs"><input checked class=tabs__radio id=tab0 name=tabs tabindex=1 type=radio><label class=tabs__label for=tab0>shader_material_glsl.rs</label><div class=tabs__panel tabindex=1><div class="example__code media-content" data-pagefind-weight=0.25><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">//!</span> A shader that uses the GLSL shading language.
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">pbr<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>MaterialPipeline<span class="z-punctuation z-separator z-rust">,</span> MaterialPipelineKey</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">reflect<span class="z-punctuation z-accessor z-rust">::</span></span>TypePath<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">render<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">mesh<span class="z-punctuation z-accessor z-rust">::</span></span>MeshVertexBufferLayoutRef<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">render_resource<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            AsBindGroup<span class="z-punctuation z-separator z-rust">,</span> RenderPipelineDescriptor<span class="z-punctuation z-separator z-rust">,</span> ShaderRef<span class="z-punctuation z-separator z-rust">,</span> SpecializedMeshPipelineError<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> This example uses shader source files from the assets subdirectory
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">VERTEX_SHADER_ASSET_PATH</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-type z-rust">str</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>shaders/custom_material.vert<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">FRAGMENT_SHADER_ASSET_PATH</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-type z-rust">str</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>shaders/custom_material.frag<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DefaultPlugins<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">MaterialPlugin<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>CustomMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Startup<span class="z-punctuation z-separator z-rust">,</span> setup</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> set up a simple 3D scene
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">meshes</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Mesh<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">materials</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>CustomMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">asset_server</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AssetServer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> cube
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        Mesh3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Cuboid<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        MeshMaterial3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>materials<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>CustomMaterial <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">LinearRgba<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">BLUE</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            color_texture<span class="z-punctuation z-separator z-rust">:</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>branding/icon.png<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            alpha_mode<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">AlphaMode<span class="z-punctuation z-accessor z-rust">::</span></span>Blend<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>from_xyz<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> camera
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>from_xyz<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">looking_at</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>Y</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This is the struct that will be passed to your shader
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Asset<span class="z-punctuation z-separator z-rust">,</span> TypePath<span class="z-punctuation z-separator z-rust">,</span> AsBindGroup<span class="z-punctuation z-separator z-rust">,</span> Clone</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">CustomMaterial</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">uniform</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">0</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">color</span><span class="z-punctuation z-separator z-type z-rust">:</span> LinearRgba,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">texture</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">1</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">sampler</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">2</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">color_texture</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Image<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">alpha_mode</span><span class="z-punctuation z-separator z-type z-rust">:</span> AlphaMode,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> The Material trait is very configurable, but comes with sensible defaults for all methods.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> You only need to implement functions for features that need non-default behavior. See the Material api docs for details!
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> When using the GLSL shading language for your shader, the specialize method must be overridden.
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Material <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">CustomMaterial</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">vertex_shader</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> ShaderRef</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-constant z-other z-rust">VERTEX_SHADER_ASSET_PATH</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">fragment_shader</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> ShaderRef</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-constant z-other z-rust">FRAGMENT_SHADER_ASSET_PATH</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">alpha_mode</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> AlphaMode</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>alpha_mode
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Bevy assumes by default that vertex shaders use the "vertex" entry point
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> and fragment shaders use the "fragment" entry point (for WGSL shaders).
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> GLSL uses "main" as the entry point, so we must override the defaults here
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">specialize</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_pipeline</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-generic z-rust">MaterialPipeline<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">descriptor</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> RenderPipelineDescriptor,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_layout</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>MeshVertexBufferLayoutRef,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_key</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">MaterialPipelineKey<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-punctuation z-section z-group z-end z-rust">)</span>, SpecializedMeshPipelineError<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        descriptor<span class="z-punctuation z-accessor z-dot z-rust">.</span>vertex<span class="z-punctuation z-accessor z-dot z-rust">.</span>entry_point <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>main<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        descriptor<span class="z-punctuation z-accessor z-dot z-rust">.</span>fragment<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">as_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>entry_point <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>main<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre></div></div><input class=tabs__radio id=tab1 name=tabs tabindex=1 type=radio><label class=tabs__label for=tab1>shaders/custom_material.vert</label><div class=tabs__panel tabindex=1><div class="example__code media-content" data-pagefind-weight=0.25><pre class="language-wgsl z-code" data-lang=wgsl><code class=language-wgsl data-lang=wgsl><span class="z-source z-wgsl">#<span class="z-variable z-other z-wgsl">version</span> <span class="z-constant z-numeric z-decimal z-wgsl">450</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">in</span> <span class="z-storage z-type z-wgsl">vec3</span> Vertex_Position<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">1</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">in</span> <span class="z-storage z-type z-wgsl">vec3</span> Vertex_Normal<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">in</span> <span class="z-storage z-type z-wgsl">vec2</span> Vertex_Uv<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">out</span> <span class="z-storage z-type z-wgsl">vec2</span> v_Uv<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-keyword z-control z-wgsl">uniform</span> <span class="z-entity z-name z-type z-wgsl">CameraViewProj</span> <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl">    <span class="z-variable z-other z-wgsl">mat4</span> <span class="z-variable z-other z-wgsl">clip_from_world</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // Other attributes exist that can be described here.</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // See full definition in: crates/bevy_render/src/view/view.wgsl</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // Attributes added here must be in the same order as they are defined</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // in view.wgsl, and they must be contiguous starting from the top to</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // ensure they have the same layout.</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    //</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // Needing to maintain this mapping yourself is one of the harder parts of using</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // GLSL with Bevy. WGSL provides a much better user experience! </span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span> <span class="z-variable z-other z-wgsl">camera_view</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-keyword z-declaration z-struct z-wgsl"><span class="z-storage z-type z-wgsl">struct</span></span> <span class="z-entity z-name z-type z-wgsl">Mesh</span> <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl">    <span class="z-storage z-type z-wgsl">mat3x4</span> <span class="z-entity z-name z-type z-wgsl">Model</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">    <span class="z-variable z-other z-wgsl">mat4</span> <span class="z-entity z-name z-type z-wgsl">InverseTransposeModel</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">    <span class="z-variable z-other z-wgsl">uint</span> <span class="z-variable z-other z-wgsl">flags</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl">#<span class="z-variable z-other z-wgsl">ifdef</span> PER_OBJECT_BUFFER_BATCH_SIZE
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">1</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-keyword z-control z-wgsl">uniform</span> <span class="z-entity z-name z-type z-wgsl">Mesh</span> <span class="z-entity z-name z-type z-wgsl">Meshes</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span>#<span class="z-punctuation z-brackets z-curly z-wgsl">{</span>PER_OBJECT_BUFFER_BATCH_SIZE<span class="z-punctuation z-brackets z-curly z-wgsl">}</span><span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">#<span class="z-keyword z-control z-wgsl">else</span>
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">1</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">readonly</span> <span class="z-variable z-other z-wgsl">buffer</span> _Meshes <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl">    <span class="z-entity z-name z-type z-wgsl">Mesh</span> <span class="z-entity z-name z-type z-wgsl">Meshes</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span><span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">#<span class="z-variable z-other z-wgsl">endif</span><span class="z-comment z-line z-double-slash z-wgsl"> // PER_OBJECT_BUFFER_BATCH_SIZE</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-variable z-other z-wgsl">mat4</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">affine_to_square</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-storage z-type z-wgsl">mat3x4</span> <span class="z-variable z-other z-wgsl">affine</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl">    <span class="z-keyword z-control z-wgsl">return</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">transpose</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">mat4</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span>
</span></span></span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-meta z-function z-call z-wgsl">        <span class="z-variable z-other z-wgsl">affine</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span><span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-punctuation z-comma z-wgsl">,</span>
</span></span></span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-meta z-function z-call z-wgsl">        <span class="z-variable z-other z-wgsl">affine</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span><span class="z-constant z-numeric z-decimal z-wgsl">1</span><span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-punctuation z-comma z-wgsl">,</span>
</span></span></span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-meta z-function z-call z-wgsl">        <span class="z-variable z-other z-wgsl">affine</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span><span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-punctuation z-comma z-wgsl">,</span>
</span></span></span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-meta z-function z-call z-wgsl">        <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">vec4</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-constant z-numeric z-float z-wgsl">0.0</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-constant z-numeric z-float z-wgsl">0.0</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-constant z-numeric z-float z-wgsl">0.0</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-constant z-numeric z-float z-wgsl">1.0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span>
</span></span></span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-meta z-function z-call z-wgsl">    <span class="z-punctuation z-brackets z-round z-wgsl">)</span></span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-keyword z-control z-wgsl">void</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">main</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl">    v_Uv <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> Vertex_Uv<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">    gl_Position <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-variable z-other z-wgsl">camera_view</span><span class="z-keyword z-operator z-access z-dot z-wgsl">.</span>clip_from_world
</span><span class="z-source z-wgsl">        <span class="z-keyword z-operator z-math z-wgsl">*</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">affine_to_square</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-entity z-name z-type z-wgsl">Meshes</span><span class="z-punctuation z-brackets z-square z-wgsl">[</span>gl_InstanceIndex<span class="z-punctuation z-brackets z-square z-wgsl">]</span><span class="z-keyword z-operator z-access z-dot z-wgsl">.</span><span class="z-entity z-name z-type z-wgsl">Model</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span>
</span><span class="z-source z-wgsl">        <span class="z-keyword z-operator z-math z-wgsl">*</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">vec4</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span>Vertex_Position<span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-constant z-numeric z-float z-wgsl">1.0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span>
</span></code></pre></div></div><input class=tabs__radio id=tab2 name=tabs tabindex=1 type=radio><label class=tabs__label for=tab2>shaders/custom_material.frag</label><div class=tabs__panel tabindex=1><div class="example__code media-content" data-pagefind-weight=0.25><pre class="language-wgsl z-code" data-lang=wgsl><code class=language-wgsl data-lang=wgsl><span class="z-source z-wgsl">#<span class="z-variable z-other z-wgsl">version</span> <span class="z-constant z-numeric z-decimal z-wgsl">450</span>
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">in</span> <span class="z-storage z-type z-wgsl">vec2</span> v_Uv<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">location</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-variable z-other z-wgsl">out</span> <span class="z-storage z-type z-wgsl">vec4</span> o_Target<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-keyword z-control z-wgsl">uniform</span> <span class="z-storage z-type z-wgsl">vec4</span> CustomMaterial_color<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">1</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-keyword z-control z-wgsl">uniform</span> texture2D CustomMaterial_texture<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">layout</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-variable z-other z-wgsl">set</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">binding</span> <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> <span class="z-constant z-numeric z-decimal z-wgsl">2</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-keyword z-control z-wgsl">uniform</span> <span class="z-storage z-type z-wgsl">sampler</span> CustomMaterial_sampler<span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">// wgsl modules can be imported and used in glsl</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">// FIXME - this doesn't work any more ...</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">// #import bevy_pbr::pbr_functions as PbrFuncs</span>
</span><span class="z-source z-wgsl">
</span><span class="z-source z-wgsl"><span class="z-keyword z-control z-wgsl">void</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">main</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span></span> <span class="z-punctuation z-brackets z-curly z-wgsl">{</span>
</span><span class="z-source z-wgsl"><span class="z-comment z-line z-double-slash z-wgsl">    // o_Target = PbrFuncs::tone_mapping(Color * texture(sampler2D(CustomMaterial_texture,CustomMaterial_sampler), v_Uv));</span>
</span><span class="z-source z-wgsl">    o_Target <span class="z-keyword z-operator z-assignment z-equal z-wgsl">=</span> CustomMaterial_color <span class="z-keyword z-operator z-math z-wgsl">*</span> <span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">texture</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-meta z-function z-call z-wgsl"><span class="z-entity z-name z-function z-wgsl">sampler2D</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span>CustomMaterial_texture<span class="z-punctuation z-comma z-wgsl">,</span>CustomMaterial_sampler<span class="z-punctuation z-brackets z-round z-wgsl">)</span></span><span class="z-punctuation z-comma z-wgsl">,</span> v_Uv<span class="z-punctuation z-brackets z-round z-wgsl">)</span></span><span class="z-punctuation z-semi z-wgsl">;</span>
</span><span class="z-source z-wgsl"><span class="z-punctuation z-brackets z-curly z-wgsl">}</span>
</span></code></pre></div></div></div></div><script type=module>import { progressiveFetch } from '/tools.js';
    import '/restart-audio-context.js'
    import init from 'https://bevy-webgpu-examples.pages.dev/Shaders/shader-material-glsl/wasm_example.js'

    const canvasEl = document.getElementById('bevy');

    let once = false;
    const observer_callback = (_mutations, _observer) => {
      if (!once) {
        // Lock the canvas aspect ratio to prevent the fit_canvas_to_parent setting from creating a feedback loop causing the canvas to grow on resize
        canvasEl.style.aspectRatio = canvasEl.attributes.width.value / canvasEl.attributes.height.value;
        once = true;
      }
    };

    const observer = new MutationObserver(observer_callback);

    const config = { attributeFilter: ['width', 'height'] };

    observer.observe(canvasEl, config);

    const progressStatusEl = document.querySelector('[data-progress-status]');
    const progressFileEl = document.querySelector('[data-progress-file]');
    const progressBarEl = document.querySelector('[data-progress-bar]');
    let hideProgressTimeoutId;

    async function loadingBarFetch(resource) {
      return progressiveFetch(resource, {
        start: ({ filename }) => {
          progressStatusEl.style.display = 'block';
          progressFileEl.textContent = filename;

          if (hideProgressTimeoutId) {
            clearTimeout(hideProgressTimeoutId);
          }
        },
        update: ({ isIndeterminate, loadedPercent }) => {
          progressBarEl.classList.toggle('bevy-instance__progress-bar--indeterminate', isIndeterminate);
          progressBarEl.style.width = loadedPercent + '%';
        },
        finish: () => {
          
          hideProgressTimeoutId = setTimeout(() => {
            progressStatusEl.style.display = 'none';
          }, 50);
        }
      })
    }
    window.bevyLoadingBarFetch = loadingBarFetch;

    
    init().catch((error) => {
      if (!error.message.startsWith("Using exceptions for control flow, don't mind me. This isn't actually an error!")) {
        throw error;
      }
    });</script></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevyengine.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><div class=search data-search><div class=search__backdrop data-search-backdrop></div><div class=search__dialog data-search-dialog><div class=search__header><div class=search__header-top><div class=search__input-wrapper><input class=search__input data-search-input placeholder=Search><button class="search__clear-filter hidden" data-search-clear-filter><i class="icon icon--times"></i></button></div><button class="search__close button" data-search-close>Close</button></div><div class=search__categories data-search-categories></div></div><div class="search__content hidden" data-search-content tabindex=-1><div class="search__no-results hidden" data-search-no-results><div>No results found for "<span data-search-term></span>".<br> :-(</div></div><div class="search__results hidden" data-search-results></div></div><div class=search__tip><strong>Tip</strong>: Press <kbd>S</kbd> to open the search dialog, and <kbd>Esc</kbd> to close it. Use <kbd>/</kbd> to select a result, and <kbd>Enter</kbd> to navigate.</div><template data-search-category-tpl><button class=search-category data-category></button></template><template data-search-result-compact-tpl><a class="search-result search-result--compact" data-search-result data-wrapper> <div class=search-result__header><h3 class=search-result__title data-title></h3><div class="search-result__category search-category search-category--active search-category--compact" data-category></div></div> <p class=search-result__excerpt data-excerpt></p> </a></template><template data-search-result-tpl><div class=search-result><div class=search-result__header><a class=search-result__title data-title></a><div class="search-result__category search-category search-category--active search-category--compact" data-category></div></div><div class=search-result__sub-results data-sub-results></div><div class="search-result__more hidden" data-more></div></div></template><template data-search-sub-result-tpl><a class=search-result__sub-item data-link data-search-result> <h4 class=search-result__sub-title data-title></h4> <span class=search-result__excerpt data-excerpt></span> </a></template></div></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>